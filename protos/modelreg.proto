// Public API for users to register models with INFaaS

syntax = "proto3";

package infaaspublic.infaasmodelreg;

import "request_reply.proto";

// Defining the model registration service
service ModelReg {
  // Heartbeat
  rpc Heartbeat(HeartbeatRequest) returns (HeartbeatResponse) {}

  // Register a model
  rpc RegisterModel(ModelRegRequest) returns (ModelRegResponse) {}
}

// Model registration request
message ModelRegRequest {
  string submitter = 1;
  string grandparent_model = 2;
  string parent_model = 3;
  string first_variant = 4;
  string url = 5;
  string dataset = 6;
  float accuracy = 7;
  string framework = 8;
  string task = 9;  // Tasks are image classification, translation, etc.
  string config_name = 10; // Used if submitter == "tester".
  
   // Add model_path and model_name fields
  string model_path = 11;  // PNB: New field for the path of the model (2025.11.29)
  string model_name = 12;  // PNB: New field for the name of the model (2025.11.29)
  string comp_size = 13;  // PNB: New field for the name of the model (2025.12.28)
}

// Model registration response
message ModelRegResponse {
  RequestReply status = 1;
}

// Heartbeat request
message HeartbeatRequest {
  RequestReply status = 1;
}

// Heartbeat response
message HeartbeatResponse {
  RequestReply status = 1;
}

